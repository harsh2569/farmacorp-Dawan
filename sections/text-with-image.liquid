<style>
    .text-with__image{
        /* margin-top: 10.2rem;
        margin-left: 15.6rem; */
    }

    .text__grid-item{
        padding-right: 14rem;
        padding-bottom: 2rem;
    }

    .text-with__image .image__banner {
        margin-right: -5rem;
    }

    .text__grid-item h2{
        font-size: 4.8rem;
        line-height: 5.4rem;
        letter-spacing: -1.6px;
        font-weight: 500;
        margin-top: 1.9rem;
    }

    .text__button{
        margin-top: 4rem;
        padding: 0.8rem 1.6rem;
        letter-spacing: -1px;
        font-weight: 600;
    }

@media screen and (max-width: 749px){
    .text-with__image{
        margin: 0;
    }

    .text__grid-item{
        padding: 3rem 1.5rem;
    }
}
</style>
<div class="page-width text-with__image">
    <div class="grid grid--1-col grid--2-col-tablet align--{{ section.settings.text_align }}">
        <div class="grid__item text__grid-item">
            {% if section.settings.heading != blank %}
                <h2>{{ section.settings.heading }}</h2>
            {% endif %}
            {% if section.settings.content != blank %}
                <p>{{ section.settings.content }}</p>
            {% endif %}
            {% if section.settings.cta_text != blank%}
                <a class="button button--primary text__button" href="{{ section.settings.btn_url }}">{{ section.settings.cta_text }}{% if section.settings.show_phone_icon %}{% render 'icon-call' %}{% endif %}</a>
            {% endif %}
        </div>                                          
        {% if section.settings.image != blank %}
        <div class="grid__item image__banner">
            <div class="media" style="padding-bottom: {{ 1 | divided_by: section.settings.image.aspect_ratio | times: 100 }}%;">
                <img
                    srcset="{%- if section.settings.image.width >= 375 -%}{{ section.settings.image | img_url: '375x' }} 375w,{%- endif -%}
                    {%- if block.settings.image.width >= 550 -%}{{ block.settings.image | img_url: '550x' }} 550w,{%- endif -%}
                    {%- if section.settings.image.width >= 750 -%}{{ section.settings.image | img_url: '750x' }} 750w,{%- endif -%}
                    {%- if section.settings.image.width >= 1100 -%}{{ section.settings.image | img_url: '1100x' }} 1100w,{%- endif -%}
                    {%- if section.settings.image.width >= 1500 -%}{{ section.settings.image | img_url: '1500x' }} 1500w,{%- endif -%}
                    {%- if section.settings.image.width >= 1780 -%}{{ section.settings.image | img_url: '1780x' }} 1780w,{%- endif -%}
                    {%- if section.settings.image.width >= 2000 -%}{{ section.settings.image | img_url: '2000x' }} 2000w,{%- endif -%}
                    {%- if section.settings.image.width >= 3000 -%}{{ section.settings.image | img_url: '3000x' }} 3000w,{%- endif -%}
                    {%- if section.settings.image.width >= 3840 -%}{{ section.settings.image | img_url: '3840x' }} 3840w,{%- endif -%}
                    {{ section.settings.image | img_url: 'master' }} {{ section.settings.image.width }}w"
                    sizes="auto"
                    src="{{ section.settings.image | img_url: '1500x' }}"
                    loading="lazy"
                    alt="{{ section.settings.image.alt | escape }}"
                    width="{{ section.settings.image.width }}"
                    height="{{ section.settings.image.width | divided_by: section.settings.image.aspect_ratio }}"            
                >
            </div>
        </div>
        {% endif %}
    </div>
</div>

{% schema %}
{
    "name": "Text with image",
    "class": "spaced-section spaced-section--full-width",
    "settings": [
        {
            "type": "text",
            "id": "heading",
            "label": "Heading"
        },
        {
            "type": "richtext",
            "id": "content",
            "label": "Content"
        },
        {
            "type": "text",
            "id": "cta_text",
            "label": "Text"
        },
        {
            "type": "url",
            "id": "btn_url",
            "label": "Url"
        },
        {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
        },
        {
            "type": "select",
            "id": "text_align",
            "options": [
                {
                    "value": "top",
                    "label": "Top"
                },
                {
                    "value": "center",
                    "label": "Center"
                },
                {
                    "value": "bottom",
                    "label": "Bottom"
                }
            ],
            "label": "Text align"
        },
        {
            "type": "checkbox",
            "id": "show_phone_icon",
            "label": "Show phone Icon"
        }
    ],
    "presets":[
        {
            "name": "Text with image"
        }
    ]
}
{% endschema %}