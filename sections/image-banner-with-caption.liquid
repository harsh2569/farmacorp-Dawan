<style>
    .image__heading{
        font-size: 3.6rem;
        text-align: center;
        line-height: 4.4rem;
        letter-spacing: -1.5px;
        font-weight: 600;       
    }    

    .image__caption{
        display: flex;
        flex-direction: column;
        margin-top: 1.8rem;
        display: flex;
        flex-direction: column;
        margin-top: 3.6rem !important;        
        font-size: 16.2px;
        line-height: 2.3rem;
        letter-spacing: -0.54px;
        color: #000000;
        font-weight: 500;
    }

    .image__caption span{
        line-height: 2.2rem;
        font-size: 14.4px;
        letter-spacing: -0.45px;
        font-weight: 500;
        opacity: 0.5;
    }

    .spaced-section-page {
    margin-top: 39px;
    }

    @media screen and (max-width: 749px) {
        .image__caption {
            padding-left: 2rem;
        }
        .image-banner__with-caption-in.page-width {
            padding: 0;
        }
    }
</style>
<div class="image-banner__with-caption {% if page.handle contains 'farma-movil' %}page-bannr{% endif %}">
    <div class="image-banner__with-caption-in {% unless section.settings.enable_full_width != blank %}page-width{% endunless %}">
    {% if section.settings.heading != blank %}
        <h3 class="image__heading"> {{ section.settings.heading }} </h3>
    {% endif %}
    {%- if section.settings.image != blank -%}
        <div class="image__banner media media--transparent" style="padding-bottom: {{ 1 | divided_by: section.settings.image.aspect_ratio | times: 100 }}%;">
            <img
                srcset="{%- if section.settings.image.width >= 375 -%}{{ section.settings.image | img_url: '375x' }} 375w,{%- endif -%}
                {%- if block.settings.image.width >= 550 -%}{{ block.settings.image | img_url: '550x' }} 550w,{%- endif -%}
                {%- if section.settings.image.width >= 750 -%}{{ section.settings.image | img_url: '750x' }} 750w,{%- endif -%}
                {%- if section.settings.image.width >= 1100 -%}{{ section.settings.image | img_url: '1100x' }} 1100w,{%- endif -%}
                {%- if section.settings.image.width >= 1500 -%}{{ section.settings.image | img_url: '1500x' }} 1500w,{%- endif -%}
                {%- if section.settings.image.width >= 1780 -%}{{ section.settings.image | img_url: '1780x' }} 1780w,{%- endif -%}
                {%- if section.settings.image.width >= 2000 -%}{{ section.settings.image | img_url: '2000x' }} 2000w,{%- endif -%}
                {%- if section.settings.image.width >= 3000 -%}{{ section.settings.image | img_url: '3000x' }} 3000w,{%- endif -%}
                {%- if section.settings.image.width >= 3840 -%}{{ section.settings.image | img_url: '3840x' }} 3840w,{%- endif -%}
                {{ section.settings.image | img_url: 'master' }} {{ section.settings.image.width }}w"
                sizes="auto"
                src="{{ section.settings.image | img_url: '1500x' }}"
                loading="lazy"
                alt="{{ section.settings.image.alt | escape }}"
                width="{{ section.settings.image.width }}"
                height="{{ section.settings.image.width | divided_by: section.settings.image.aspect_ratio }}"            
            >
        </div>
    {% endif %}    
    {% if section.settings.text != blank %}
        <div class="image__caption rich-text__blocks">
            {{ section.settings.text }}
        </div>
    {% endif %}
    </div>
</div>

{% schema %}
{
    "name": "Image banner with caption",    
    "class": "spaced-section-page spaced-section--full-width",
    "settings": [
        {
            "type": "text",
            "id": "heading",
            "label": "Heading"
        },
        {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
        },
        {
            "type": "text",
            "id": "text",
            "label": "Caption"
        },
        {
            "type": "checkbox",
            "id": "enable_full_width",
            "label": "Enable Full Width",
            "default": true
        }
    ],
    "presets": [
        {
            "name": "Image banner with caption"            
        }
    ]
}
{% endschema %}